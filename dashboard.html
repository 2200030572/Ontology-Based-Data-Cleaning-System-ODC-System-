<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard • ODC System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link rel="stylesheet" href="../assets/styles.css"/>
</head>
<body>
  <!-- Mentor AI Chat -->
  <div id="mentor-launcher" class="mentor-launcher" aria-label="Open Mentor AI chat" title="Mentor AI">
    <i class="fa-solid fa-message"></i>
  </div>
  <div id="mentor-panel" class="mentor-panel" aria-hidden="true">
    <div class="mentor-header">
      <div class="d-flex align-items-center gap-2">
        <i class="fa-solid fa-robot"></i>
        <span class="fw-semibold">Mentor AI</span>
      </div>
      <button id="mentor-close" class="btn btn-sm btn-outline-light">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>
    <div id="mentor-body" class="mentor-body">
      <div class="mentor-msg mentor-msg-bot">
        <div class="bubble">Hi! Ask me anything about this website.</div>
      </div>
    </div>
    <div class="mentor-input">
      <input id="mentor-input" type="text" class="form-control" placeholder="Type a message and press Enter…"/>
      <button id="mentor-send" class="btn btn-primary"><i class="fa-solid fa-paper-plane"></i></button>
    </div>
  </div>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg fixed-top navbar-dark">
    <div class="container">
      <a class="navbar-brand fw-bold" href="../index.html"><i class="fa-solid fa-broom"></i> ODC System</a>
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="navContent" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-lin <a class="nav-link active" href="#"><i class="fa-solid fa-gauge-high me-1"></i>Admin</a>k" href="../index.html">Home</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <header class="page-header">
    <div class="container">
      <h1 class="mb-2">Admin Dashboard</h1>
      <p class="mb-0">Upload, clean data, and view results.</p>
    </div>
  </header>

  <section class="py-4">
    <div class="container">
      <ul class="nav nav-tabs" id="adminTabs" role="tablist">
        <li class="nav-item" role="presentation"><button class="nav-link active" id="upload-tab" data-bs-toggle="tab" data-bs-target="#upload" type="button" role="tab">Upload</button></li>
        <li class="nav-item" role="presentation"><button class="nav-link" id="cleaning-tab" data-bs-toggle="tab" data-bs-target="#cleaning" type="button" role="tab">Cleaning</button></li>
        <li class="nav-item" role="presentation"><button class="nav-link" id="results-tab" data-bs-toggle="tab" data-bs-target="#results" type="button" role="tab">Results</button></li>
        <li class="nav-item" role="presentation"><button class="nav-link" id="ontology-tab" data-bs-toggle="tab" data-bs-target="#ontology" type="button" role="tab">Ontology</button></li>
      </ul>

      <div class="tab-content pt-3">
        <!-- Upload -->
        <div class="tab-pane fade show active" id="upload" role="tabpanel" aria-labelledby="upload-tab">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title"><i class="fa-solid fa-cloud-arrow-up me-2"></i>Upload CSV</h5>
              <input id="fileInput" type="file" accept=".csv" class="form-control"/>
              <div class="progress mt-3" style="height: 20px;">
                <div id="uploadProgress" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width:0%">0%</div>
              </div>
              <div id="uploadStatus" class="mt-2 text-muted">Waiting for file…</div>
            </div>
          </div>
        </div>

        <!-- Cleaning -->
        <div class="tab-pane fade" id="cleaning" role="tabpanel" aria-labelledby="cleaning-tab">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title"><i class="fa-solid fa-wand-magic-sparkles me-2"></i>Start Cleaning</h5>
              <button id="startCleaningBtn" class="btn btn-success"><i class="fa-solid fa-play me-2"></i>Start Data Cleaning</button>
              <div class="progress mt-3" style="height: 20px;">
                <div id="cleaningProgress" class="progress-bar bg-success" role="progressbar" style="width:0%">0%</div>
              </div>
              <div id="cleaningStatus" class="mt-2 text-muted">Idle.</div>
            </div>
          </div>
        </div>

        <!-- Results -->
        <div class="tab-pane fade" id="results" role="tabpanel" aria-labelledby="results-tab">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title"><i class="fa-solid fa-table-list me-2"></i>Results</h5>
              <div class="row g-3">
                <div class="col-md-4">
                  <div class="stat-tile">
                    <div class="stat-value" id="statProcessed">0</div>
                    <div class="stat-label">Products processed</div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="stat-tile">
                    <div class="stat-value" id="statDuplicates">0</div>
                    <div class="stat-label">Duplicates removed</div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="stat-tile">
                    <div class="stat-value" id="statStandardized">0</div>
                    <div class="stat-label">Attributes standardized</div>
                  </div>
                </div>
              </div>
              <div class="mt-3">
                <button id="downloadBtn" class="btn btn-outline-primary"><i class="fa-solid fa-file-arrow-down me-2"></i>Download cleaned CSV</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Ontology -->
        <div class="tab-pane fade" id="ontology" role="tabpanel" aria-labelledby="ontology-tab">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title"><i class="fa-solid fa-diagram-project me-2"></i>Ontology & Taxonomy</h5>
              <p>This project uses RDF/OWL for schema, SHACL for data shapes, SKOS for vocabularies, and SPARQL for query-time reconciliation.</p>
              <ul class="mb-3">
                <li>RDF/OWL: Define Product, Brand, Category classes; properties like hasBrand, hasCategory, hasAttribute; set domains/ranges.</li>
                <li>SHACL: Require fields (name, brand), restrict value types and units, and validate category membership and attribute ranges.</li>
                <li>SKOS: Maintain category taxonomy (broader/narrower) and brand alias lists using prefLabel and altLabel.</li>
                <li>SPARQL: Resolve aliases to canonical IRIs, fetch category ancestors, and detect duplicates via key attributes.</li>
              </ul>
              <p class="mb-2">Usage in cleaning:</p>
              <ul class="mb-0">
                <li>Normalization: map raw brand/category to canonical SKOS labels; repair casing and synonyms.</li>
                <li>Validation: run SHACL shapes to flag missing or invalid fields before persistence.</li>
                <li>Reconciliation: use SPARQL to merge duplicates and align attributes to ontology properties.</li>
              </ul>
            </div>
          </div>
        </div>
      </div><!-- /.tab-content -->

      <div class="mt-4">
        <a class="btn btn-outline-secondary" href="../index.html">Back Home</a>
      </div>
    </div>
  </section>

  <footer class="app-footer">
    <div class="container d-flex justify-content-between align-items-center">
      <span>© 2025 ODC System</span>
      <a href="../features.html" class="link-light text-decoration-none">Features</a>
    </div>
  </footer>

  <script src="../assets/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
